# üé≤ TTRPG Platform ‚Äî –ü–ª–∞–Ω —Ä–æ–∑—Ä–æ–±–∫–∏

> –î–æ–∫—É–º–µ–Ω—Ç —Å—Ç–≤–æ—Ä–µ–Ω–æ: 3 –ª—é—Ç–æ–≥–æ 2026
> –°—Ç–∞—Ç—É—Å: –ü–ª–∞–Ω—É–≤–∞–Ω–Ω—è –Ω–∞—Å—Ç—É–ø–Ω–∏—Ö –µ—Ç–∞–ø—ñ–≤

---

## üìä –ü–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞–Ω –ø—Ä–æ–µ–∫—Ç—É

### ‚úÖ –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ:

**–ê—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è:**
- –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è / –õ–æ–≥—ñ–Ω / Logout
- –í–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—è email
- –°–∫–∏–¥–∞–Ω–Ω—è –ø–∞—Ä–æ–ª—è
- Refresh —Ç–æ–∫–µ–Ω–∏ + CSRF –∑–∞—Ö–∏—Å—Ç

**–ü—Ä–æ—Ñ—ñ–ª—å:**
- –ü–µ—Ä–µ–≥–ª—è–¥ —Ç–∞ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è (–∞–≤–∞—Ç–∞—Ä, displayName, bio, timezone, –º–æ–≤–∞)
- –ü—É–±–ª—ñ—á–Ω–∏–π –ø—Ä–æ—Ñ—ñ–ª—å (`/user/:username`)

**–ë–µ–∑–ø–µ–∫–∞:**
- –ó–º—ñ–Ω–∞ –ø–∞—Ä–æ–ª—è
- –ó–º—ñ–Ω–∞ email –∑ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è–º

**Dashboard:**
- –ë–∞–∑–æ–≤–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑ –Ω–∞–≤—ñ–≥–∞—Ü—ñ—î—é
- HOME view (–∫–∞–ª–µ–Ω–¥–∞—Ä + welcome)
- PROFILE view –∑ —Å–µ–∫—Ü—ñ—è–º–∏

---

## üéØ –ö–æ–Ω—Ü–µ–ø—Ü—ñ—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∏

### –û—Å–Ω–æ–≤–Ω—ñ —Å—É—Ç–Ω–æ—Å—Ç—ñ:

1. **–ö–∞–º–ø–∞–Ω—ñ—è (Campaign)** = –ì—Ä—É–ø–∞
   - –î–æ–≤–≥–æ—Ç—Ä–∏–≤–∞–ª–∞ –≥—Ä–∞ –∑ –ø–æ—Å—Ç—ñ–π–Ω–∏–º —Å–∫–ª–∞–¥–æ–º
   - –ú–∞—î –≤–ª–∞—Å–Ω–∏–∫–∞ (Owner) —Ç–∞ —É—á–∞—Å–Ω–∏–∫—ñ–≤
   - –ú—ñ—Å—Ç–∏—Ç—å —Å–µ—Å—ñ—ó

2. **–°–µ—Å—ñ—è (Session)** = –ü–æ–¥—ñ—è
   - –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞ –∑—É—Å—Ç—Ä—ñ—á –∑ –¥–∞—Ç–æ—é/—á–∞—Å–æ–º
   - –ú–æ–∂–µ –±—É—Ç–∏ —á–∞—Å—Ç–∏–Ω–æ—é –∫–∞–º–ø–∞–Ω—ñ—ó –∞–±–æ one-shot
   - –ú–∞—î GM —Ç–∞ –≥—Ä–∞–≤—Ü—ñ–≤

3. **–£—á–∞—Å–Ω–∏–∫–∏**
   - CampaignMember ‚Äî –ø–æ—Å—Ç—ñ–π–Ω—ñ —É—á–∞—Å–Ω–∏–∫–∏ –∫–∞–º–ø–∞–Ω—ñ—ó
   - SessionParticipant ‚Äî —É—á–∞—Å–Ω–∏–∫–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ—ó —Å–µ—Å—ñ—ó (–º–æ–∂—É—Ç—å –±—É—Ç–∏ –≥–æ—Å—Ç—ñ)

---

## üèóÔ∏è –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω—ñ —Ä—ñ—à–µ–Ω–Ω—è

### 1. –ì—Ä—É–ø–∞ = –ö–∞–º–ø–∞–Ω—ñ—è
–ù–µ —Å—Ç–≤–æ—Ä—é—î–º–æ –æ–∫—Ä–µ–º—É —Ç–∞–±–ª–∏—Ü—é Group. –ö–∞–º–ø–∞–Ω—ñ—è –≤–∏–∫–æ–Ω—É—î —Ä–æ–ª—å –≥—Ä—É–ø–∏.
- –ß–∞—Ç –∫–∞–º–ø–∞–Ω—ñ—ó, –Ω–æ—Ç–∞—Ç–∫–∏ ‚Äî –≤—Å–µ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ñ Campaign
- –ì—ñ—Å—Ç—å –º–æ–∂–µ –ø—Ä–∏—î–¥–Ω–∞—Ç–∏—Å—è –¥–æ —Å–µ—Å—ñ—ó –±–µ–∑ —á–ª–µ–Ω—Å—Ç–≤–∞ –≤ –∫–∞–º–ø–∞–Ω—ñ—ó

### 2. –†–æ–ª—ñ: Owner ‚â† GM
| –†–æ–ª—å | –°—Ç–≤–æ—Ä—é—î —Å–µ—Å—ñ—ó | –ó–∞–ø—Ä–æ—à—É—î –≥—Ä–∞–≤—Ü—ñ–≤ | –í–∏–¥–∞–ª—è—î –∫–∞–º–ø–∞–Ω—ñ—é |
|------|---------------|------------------|------------------|
| OWNER | ‚úÖ | ‚úÖ | ‚úÖ |
| GM | ‚úÖ | ‚úÖ | ‚ùå |
| PLAYER | ‚ùå | ‚ùå | ‚ùå |

### 3. –í–∏–¥–∏–º—ñ—Å—Ç—å: Visibility Enum
```
PUBLIC    ‚Äî –í–∏–¥–Ω–æ –≤ –ø–æ—à—É–∫—É
PRIVATE   ‚Äî –¢—ñ–ª—å–∫–∏ –¥–ª—è —É—á–∞—Å–Ω–∏–∫—ñ–≤  
LINK_ONLY ‚Äî –î–æ—Å—Ç—É–ø –∑–∞ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º (inviteCode)
```

### 4. –ö–∞–ª–µ–Ω–¥–∞—Ä ‚Äî –∫–æ–Ω—Ç–µ–∫—Å—Ç –≤–∏—Ä—ñ—à—É—î
| –°—Ç–æ—Ä—ñ–Ω–∫–∞ | –ö–æ–Ω—Ç–µ–Ω—Ç |
|----------|---------|
| –ì–æ–ª–æ–≤–Ω–∞ | –ó–∞–≥–∞–ª—å–Ω–∏–π —Ä–æ–∑–∫–ª–∞–¥ (–≤—Å—ñ –ø—É–±–ª—ñ—á–Ω—ñ —Å–µ—Å—ñ—ó) |
| –ú–æ—ó —ñ–≥—Ä–∏ | –ú–æ—ó —Å–µ—Å—ñ—ó + –∫–µ—Ä—É–≤–∞–Ω–Ω—è –∫–∞–º–ø–∞–Ω—ñ—è–º–∏ |
| –ü–æ—à—É–∫ | –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –ø–æ—à—É–∫—É –∑ —Ñ—ñ–ª—å—Ç—Ä–∞–º–∏ |

### 5. One-shot
–°–µ—Å—ñ—è –±–µ–∑ `campaignId` ‚Äî —Ü–µ one-shot (—Ä–∞–∑–æ–≤–∞ –≥—Ä–∞).

### 6. –û–ø–ª–∞—Ç–∞ (MVP)
- –¶—ñ–Ω—É –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î GM (`Session.price`)
- –û–ø–ª–∞—Ç–∞ –±–ª–æ–∫—É—î—Ç—å—Å—è –ø—Ä–∏ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—ñ —É—á–∞—Å—Ç—ñ
- –°–∫–∞—Å—É–≤–∞–Ω–Ω—è: —Å–ø—Ä–æ—â–µ–Ω–∞ –ª–æ–≥—ñ–∫–∞ –¥–ª—è MVP

---

## üìã –û–Ω–æ–≤–ª–µ–Ω–Ω—è Prisma Schema

### –ù–æ–≤—ñ/–æ–Ω–æ–≤–ª–µ–Ω—ñ –º–æ–¥–µ–ª—ñ:

```prisma
// Campaign ‚Äî –¥–æ–¥–∞—Ç–∏:
- imageUrl, system
- visibility (enum)
- inviteCode (–¥–ª—è LINK_ONLY)
- members (CampaignMember[])
- joinRequests (JoinRequest[])

// CampaignMember ‚Äî –ù–û–í–ê —Ç–∞–±–ª–∏—Ü—è
- role: OWNER | GM | PLAYER
- userId, campaignId

// Session ‚Äî –¥–æ–¥–∞—Ç–∏:
- duration (—Ö–≤–∏–ª–∏–Ω–∏)
- visibility
- creatorId (—Ö—Ç–æ —Å—Ç–≤–æ—Ä–∏–≤)
- index –Ω–∞ date

// SessionParticipant ‚Äî –æ–Ω–æ–≤–∏—Ç–∏:
- role: GM | PLAYER
- status: PENDING | CONFIRMED | DECLINED | ATTENDED | NO_SHOW
- isGuest (boolean)

// JoinRequest ‚Äî –ù–û–í–ê —Ç–∞–±–ª–∏—Ü—è
- status: PENDING | APPROVED | REJECTED
- message (–≤—ñ–¥ –∑–∞—è–≤–Ω–∏–∫–∞)
- reviewedBy, reviewedAt
```

---

## üó∫Ô∏è –ü–æ–∫—Ä–æ–∫–æ–≤–∏–π –ø–ª–∞–Ω

### –§–∞–∑–∞ 0: –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ –ë–î (1-2 –≥–æ–¥)
- –û–Ω–æ–≤–∏—Ç–∏ schema.prisma ‚úÖ
- –°—Ç–≤–æ—Ä–∏—Ç–∏ –º—ñ–≥—Ä–∞—Ü—ñ—é ‚úÖ
- –û–Ω–æ–≤–∏—Ç–∏ –∑–≤'—è–∑–∫–∏ –≤ User ‚úÖ

### –§–∞–∑–∞ 1: Backend ‚Äî –ö–∞–º–ø–∞–Ω—ñ—ó (4-6 –≥–æ–¥)
```
server/src/
‚îú‚îÄ‚îÄ controllers/campaign.controller.js ‚úÖ
‚îú‚îÄ‚îÄ services/campaign.service.js ‚úÖ
‚îú‚îÄ‚îÄ routes/campaign.routes.js ‚úÖ
‚îî‚îÄ‚îÄ validation/campaign.validation.js ‚úÖ
```

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û (4/4 —Ñ–∞–π–ª–∏)

**–ï–Ω–¥–ø–æ—ñ–Ω—Ç–∏:**
- POST `/api/campaigns` ‚Äî —Å—Ç–≤–æ—Ä–∏—Ç–∏ ‚úÖ
- GET `/api/campaigns` ‚Äî –º–æ—ó –∫–∞–º–ø–∞–Ω—ñ—ó ‚úÖ
- GET `/api/campaigns/:id` ‚Äî –¥–µ—Ç–∞–ª—ñ ‚úÖ
- PUT `/api/campaigns/:id` ‚Äî –æ–Ω–æ–≤–∏—Ç–∏ ‚úÖ
- DELETE `/api/campaigns/:id` ‚Äî –≤–∏–¥–∞–ª–∏—Ç–∏ ‚úÖ
- GET `/api/campaigns/:id/members` ‚Äî —á–ª–µ–Ω–∏ ‚úÖ
- POST `/api/campaigns/:id/members` ‚Äî –¥–æ–¥–∞—Ç–∏ —á–ª–µ–Ω–∞ ‚úÖ
- DELETE `/api/campaigns/:id/members/:memberId` ‚Äî –≤–∏–¥–∞–ª–∏—Ç–∏ —á–ª–µ–Ω–∞ ‚úÖ
- PATCH `/api/campaigns/:id/members/:memberId` ‚Äî –∑–º—ñ–Ω–∏—Ç–∏ —Ä–æ–ª—å ‚úÖ
- POST `/api/campaigns/:id/invite` ‚Äî —Ä–µ–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –∫–æ–¥ ‚úÖ
- POST `/api/campaigns/invite/:code` ‚Äî –ø—Ä–∏—î–¥–Ω–∞—Ç–∏—Å—è –∑–∞ –∫–æ–¥–æ–º ‚úÖ
- POST `/api/campaigns/:id/requests` ‚Äî –∑–∞–ø–∏—Ç –Ω–∞ –ø—Ä–∏—î–¥–Ω–∞–Ω–Ω—è ‚úÖ
- GET `/api/campaigns/:id/requests` ‚Äî –∑–∞–ø–∏—Ç–∏ –Ω–∞ –ø—Ä–∏—î–¥–Ω–∞–Ω–Ω—è ‚úÖ
- POST `/api/campaigns/requests/:id/approve` ‚Äî —Å—Ö–≤–∞–ª–∏—Ç–∏ ‚úÖ
- POST `/api/campaigns/requests/:id/reject` ‚Äî –≤—ñ–¥—Ö–∏–ª–∏—Ç–∏ ‚úÖ

**–î–æ–¥–∞—Ç–∫–æ–≤–æ:**
- Frontend API: `client/src/features/campaigns/api/campaignApi.js` ‚úÖ
- Zustand Store: `client/src/stores/useCampaignStore.js` ‚úÖ

### –§–∞–∑–∞ 2: Backend ‚Äî –°–µ—Å—ñ—ó (4-6 –≥–æ–¥)
```
server/src/
‚îú‚îÄ‚îÄ controllers/session.controller.js
‚îú‚îÄ‚îÄ services/session.service.js
‚îú‚îÄ‚îÄ routes/session.routes.js
‚îî‚îÄ‚îÄ validation/session.validation.js
```

**–ï–Ω–¥–ø–æ—ñ–Ω—Ç–∏:**
- POST `/api/sessions` ‚Äî —Å—Ç–≤–æ—Ä–∏—Ç–∏
- GET `/api/sessions` ‚Äî –º–æ—ó —Å–µ—Å—ñ—ó
- GET `/api/sessions/calendar` ‚Äî –∞–≥—Ä–µ–≥–∞—Ü—ñ—è –¥–ª—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è
- GET `/api/sessions/:id` ‚Äî –¥–µ—Ç–∞–ª—ñ
- PATCH `/api/sessions/:id` ‚Äî –æ–Ω–æ–≤–∏—Ç–∏
- DELETE `/api/sessions/:id` ‚Äî —Å–∫–∞—Å—É–≤–∞—Ç–∏
- POST `/api/sessions/:id/join` ‚Äî –ø—Ä–∏—î–¥–Ω–∞—Ç–∏—Å—è
- POST `/api/sessions/:id/leave` ‚Äî –≤–∏–π—Ç–∏

### –§–∞–∑–∞ 3: Backend ‚Äî –ü–æ—à—É–∫ —Ç–∞ –∑–∞—è–≤–∫–∏ (2-3 –≥–æ–¥)
- GET `/api/search/campaigns` ‚Äî –ø—É–±–ª—ñ—á–Ω—ñ –∫–∞–º–ø–∞–Ω—ñ—ó
- GET `/api/search/sessions` ‚Äî –ø—É–±–ª—ñ—á–Ω—ñ —Å–µ—Å—ñ—ó
- GET `/api/campaigns/join/:inviteCode` ‚Äî –ø—Ä–∏—î–¥–Ω–∞—Ç–∏—Å—è –∑–∞ –∫–æ–¥–æ–º
- POST `/api/campaigns/:id/join-request` ‚Äî –ø–æ–¥–∞—Ç–∏ –∑–∞—è–≤–∫—É
- GET `/api/campaigns/:id/join-requests` ‚Äî —Å–ø–∏—Å–æ–∫ –∑–∞—è–≤–æ–∫
- PATCH `/api/join-requests/:id` ‚Äî approve/reject

### –§–∞–∑–∞ 4: Frontend ‚Äî –°—Ç—Ä—É–∫—Ç—É—Ä–∞ (2-3 –≥–æ–¥)
```
client/src/features/
‚îú‚îÄ‚îÄ campaigns/
‚îÇ   ‚îú‚îÄ‚îÄ api/campaignApi.js
‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îî‚îÄ‚îÄ pages/
‚îú‚îÄ‚îÄ sessions/
‚îÇ   ‚îú‚îÄ‚îÄ api/sessionApi.js
‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îî‚îÄ‚îÄ pages/
‚îî‚îÄ‚îÄ search/
    ‚îú‚îÄ‚îÄ api/searchApi.js
    ‚îî‚îÄ‚îÄ pages/
```

### –§–∞–∑–∞ 5: Frontend ‚Äî Dashboard Views (4-6 –≥–æ–¥)
```jsx
DASHBOARD_VIEWS = {
  HOME: 'home',
  MY_GAMES: 'my-games',  // –ù–û–í–ò–ô
  PROFILE: 'profile',
  SEARCH: 'search',      // –ù–û–í–ò–ô
}
```

**–ù–æ–≤—ñ –≤—ñ–¥–∂–µ—Ç–∏:**
- MyGamesCalendar ‚Äî –∫–∞–ª–µ–Ω–¥–∞—Ä –º–æ—ó—Ö —Å–µ—Å—ñ–π
- DaySessionsList ‚Äî —Å–µ—Å—ñ—ó –æ–±—Ä–∞–Ω–æ–≥–æ –¥–Ω—è
- MyCampaignsList ‚Äî —Å–ø–∏—Å–æ–∫ –∫–∞–º–ø–∞–Ω—ñ–π
- SearchFilters/Results ‚Äî –ø–æ—à—É–∫

### –§–∞–∑–∞ 6: Frontend ‚Äî –°—Ç–æ—Ä—ñ–Ω–∫–∏ –¥–µ—Ç–∞–ª–µ–π (3-4 –≥–æ–¥)
- CampaignDetailsPage
- SessionDetailsPage

### –§–∞–∑–∞ 7: –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è —Ç–∞ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è (2-3 –≥–æ–¥)

---

## ‚è±Ô∏è –û—Ü—ñ–Ω–∫–∞ —á–∞—Å—É

| –§–∞–∑–∞ | –û–ø–∏—Å | –ß–∞—Å |
|------|------|-----|
| 0 | –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ –ë–î | 1-2 –≥–æ–¥ |
| 1 | Backend ‚Äî –ö–∞–º–ø–∞–Ω—ñ—ó | 4-6 –≥–æ–¥ |
| 2 | Backend ‚Äî –°–µ—Å—ñ—ó | 4-6 –≥–æ–¥ |
| 3 | Backend ‚Äî –ü–æ—à—É–∫/–ó–∞—è–≤–∫–∏ | 2-3 –≥–æ–¥ |
| 4 | Frontend ‚Äî –°—Ç—Ä—É–∫—Ç—É—Ä–∞ | 2-3 –≥–æ–¥ |
| 5 | Frontend ‚Äî Dashboard | 4-6 –≥–æ–¥ |
| 6 | Frontend ‚Äî –°—Ç–æ—Ä—ñ–Ω–∫–∏ | 3-4 –≥–æ–¥ |
| 7 | –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è | 2-3 –≥–æ–¥ |
| **–í—Å—å–æ–≥–æ** | | **22-33 –≥–æ–¥** |

---

## ‚ö†Ô∏è –í–∞–∂–ª–∏–≤—ñ –Ω—é–∞–Ω—Å–∏

1. **Timezone** ‚Äî –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ –≤ UTC, –∫–æ–Ω–≤–µ—Ä—Ç—É–≤–∞—Ç–∏ –Ω–∞ –∫–ª—ñ—î–Ω—Ç—ñ
2. **–Ü–Ω–¥–µ–∫—Å–∏** ‚Äî –æ–±–æ–≤'—è–∑–∫–æ–≤–æ –Ω–∞ `Session.date` –¥–ª—è –ø–µ—Ä—Ñ–æ—Ä–º–∞–Ω—Å—É
3. **–ê–≥—Ä–µ–≥–∞—Ü—ñ—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è** ‚Äî API –ø–æ–≤–µ—Ä—Ç–∞—î `{ "2026-02-03": 3 }` (–¥–∞—Ç–∞: –∫—ñ–ª—å–∫—ñ—Å—Ç—å)
4. **–ö–∞—Å–∫–∞–¥–Ω–µ –≤–∏–¥–∞–ª–µ–Ω–Ω—è** ‚Äî –ø—Ä–∏ –≤–∏–¥–∞–ª–µ–Ω–Ω—ñ –∫–∞–º–ø–∞–Ω—ñ—ó –≤–∏–¥–∞–ª—è—Ç–∏ members, sessions, requests

---

## üöÄ –ù–∞—Å—Ç—É–ø–Ω–∏–π –∫—Ä–æ–∫

**–ü–æ—á–∞—Ç–∏ –∑ –§–∞–∑–∏ 0** ‚Äî –æ–Ω–æ–≤–ª–µ–Ω–Ω—è `schema.prisma`

---

## üìù –ü—Ä–∏–º—ñ—Ç–∫–∏

_–¶–µ–π –¥–æ–∫—É–º–µ–Ω—Ç –±—É–¥–µ –æ–Ω–æ–≤–ª—é–≤–∞—Ç–∏—Å—è –≤ –ø—Ä–æ—Ü–µ—Å—ñ —Ä–æ–∑—Ä–æ–±–∫–∏._
